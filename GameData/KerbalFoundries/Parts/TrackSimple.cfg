PART
{
name = KF_TrackS
module = Part
author = Lo-Fi

MODEL
{
	model = KerbalFoundries/Assets/TrackSimple
}
rescaleFactor = 1

node_stack_001 = 0.1, 0.0, 0.0, 1.0, 0.0, 0.0, 1
node_attach = 0.1, 0.0, 0.0, 1.0, 0.0, 0.0

TechRequired = advancedMotors
entryCost = 3000
cost =300
category = Ground
subcategory = 0
title = KF Simple Track
manufacturer = Kerbal Foundries
description = Inspired by his favourite childhood series "Thunder Kats", Gene Kerman was inspired to created this oddly shaped track unit. Useful for smaller craft, as well as remote control snack delivery units. Snacks not included.

attachRules = 1,1,0,1,1

mass = 0.15
dragModelType = default
maximum_drag = 0.3
minimum_drag = 0.2
angularDrag = 1
maxTemp = 1000 

crashTolerance = 300
breakingForce = 300
breakingTorque = 300

EFFECTS
{
	WheelEffect
	{
		AUDIO
		{
			channel = Ship
			clip = KerbalFoundries/Sounds/wheel2
			volume = 0.0 0.0
			volume = 0.1 0.2
			volume = 1.0 1.0
			pitch = 0.0 0.6
			pitch = 1.0 1.5
			loop = true
		}
	}
}

IconOverride {}

MODULE
{
	name = FXModuleConstrainPosition
	matchRotation = true
	matchPosition = false
	CONSTRAINFX
	{
		targetName = Wheel006L
		moversName = Wheel001L
	}
	CONSTRAINFX
	{
		targetName = Wheel006L
		moversName = Wheel002L
	}
	CONSTRAINFX
	{
		targetName = Wheel006L
		moversName = Wheel003L
	}
	CONSTRAINFX
	{
		targetName = Wheel006L
		moversName = Wheel004L
	}
	CONSTRAINFX
	{
		targetName = Wheel006L
		moversName = Wheel005L
	}
}	

MODULE
{
	name = KSPWheelBase
	WHEEL
	{
		colliderName = WC001L
		radius = 0.13
		mass = 0.04
		travel = 0.05
		load = 0.20
	}
	WHEEL
	{
		colliderName = WC002L
		radius = 0.13
		mass = 0.04
		travel = 0.05
		load = 0.20
	}
	WHEEL
	{
		colliderName = WC003L
		radius = 0.13
		mass = 0.04
		travel = 0.05
		load = 0.20
	}
	WHEEL
	{
		colliderName = WC004L
		radius = 0.13
		mass = 0.04
		travel = 0.05
		load = 0.20
	}
	WHEEL
	{
		colliderName = WC005L
		radius = 0.13
		mass = 0.04
		travel = 0.05
		load = 0.20
	}
	WHEEL
	{
		colliderName = WC006L
		radius = 0.13
		mass = 0.04
		travel = 0.05
		load = 1
	}
	suspensionTarget = 0.5
	boundsColliderName = Bounds
	loadRating = 0.1
	minLoadRating = 0.1
	maxLoadRating = 2.5
}
MODULE
{
	name = KSPWheelRotation
	wheelMeshName = Wheel006L
	rotationAxis = 0, 0, 1
}
MODULE
{
	name = KSPWheelSuspension
	wheelIndex = 0
	suspensionName = Dummy001L
}
MODULE
{
	name = KSPWheelSuspension
	wheelIndex = 1
	suspensionName = Dummy002L
}
MODULE
{
	name = KSPWheelSuspension
	wheelIndex = 2
	suspensionName = Dummy003L
}
MODULE
{
	name = KSPWheelSuspension
	wheelIndex = 3
	suspensionName = Dummy004L
}
MODULE
{
	name = KSPWheelSuspension
	wheelIndex = 4
	suspensionName = Dummy005L
}
MODULE
{
	name = KSPWheelBrakes
	wheelIndex = 2
	maxBrakeTorque = 50
	brakeResponse = 2
}
MODULE
{
	name = KSPWheelTracks
	wheelIndex = 0
	motorPower = 0.45
	maxMotorTorque = 2.34
	maxRPM = 1750
	gearRatio = 1
	trackLength = 14
	tankSteering = true
}
MODULE
{
	name = KSPWheelDamage
	impactTolerance = 100
}
MODULE
{
	name = KSPWheelTransformRemoval
	TRANSFORM
	{
		name = SideR
		when = 1
	}
	TRANSFORM
	{
		name = ColliderContainerR
		when = 1
	}
}
}

+PART[KF_TrackS]
{
	@name = KF_TrackS-R
	-MODULE[FXModuleConstrainPosition]{}
	-MODULE[KSPWheelBase]{}
	-MODULE[KSPWheelRotation]{}
	-MODULE[KSPWheelSuspension]{}
	-MODULE[KSPWheelSuspension]{}
	-MODULE[KSPWheelSuspension]{}
	-MODULE[KSPWheelSuspension]{}
	-MODULE[KSPWheelSuspension]{}
	-MODULE[KSPWheelMotor]{}
	-MODULE[KSPWheelBrakes]{}
	-MODULE[KSPWheelDamage]{}
	-MODULE[KSPWheelTracks]{}
	-MODULE[KSPWheelTransformRemoval]{}
		
	MODULE
	{
		name = FXModuleConstrainPosition
		matchRotation = true
		matchPosition = false
		CONSTRAINFX
		{
			targetName = Wheel006R
			moversName = Wheel001R
		}
		CONSTRAINFX
		{
			targetName = Wheel006R
			moversName = Wheel002R
		}
		CONSTRAINFX
		{
			targetName = Wheel006R
			moversName = Wheel003R
		}
		CONSTRAINFX
		{
			targetName = Wheel006R
			moversName = Wheel004R
		}
		CONSTRAINFX
		{
			targetName = Wheel006R
			moversName = Wheel005R
		}
	}	
	
	MODULE
	{
		name = KSPWheelBase
		WHEEL
		{
			colliderName = WC001R
			radius = 0.13
			mass = 0.04
			travel = 0.05
		}
		WHEEL
		{
			colliderName = WC002R
			radius = 0.13
			mass = 0.04
			travel = 0.05
		}
		WHEEL
		{
			colliderName = WC003R
			radius = 0.13
			mass = 0.04
			travel = 0.05
		}
		WHEEL
		{
			colliderName = WC004R
			radius = 0.13
			mass = 0.04
			travel = 0.05
		}
		WHEEL
		{
			colliderName = WC005R
			radius = 0.13
			mass = 0.04
			travel = 0.05
		}
		WHEEL
		{
			colliderName = WC006R
			radius = 0.13
			mass = 0.04
			travel = 0.05
		}
		suspensionTarget = 0.5
		boundsColliderName = Bounds
		loadRating = 1
		minLoadRating = 0.1
		maxLoadRating = 3
		maxSpeed = 23.5
	}
	MODULE
	{
		name = KSPWheelRotation
		wheelMeshName = Wheel006R
		rotationAxis = 0, 0, 1
	}
	MODULE
	{
		name = KSPWheelSuspension
		wheelIndex = 0
		suspensionName = Dummy001R
	}
	MODULE
	{
		name = KSPWheelSuspension
		wheelIndex = 1
		suspensionName = Dummy002R
	}
	MODULE
	{
		name = KSPWheelSuspension
		wheelIndex = 2
		suspensionName = Dummy003R
	}
	MODULE
	{
		name = KSPWheelSuspension
		wheelIndex = 3
		suspensionName = Dummy004R
	}
	MODULE
	{
		name = KSPWheelSuspension
		wheelIndex = 4
		suspensionName = Dummy005R
	}
	MODULE
	{
		name = KSPWheelBrakes
		wheelIndex = 2
		maxBrakeTorque = 50
		brakeResponse = 2
	}
	MODULE
	{
		name = KSPWheelTracks
		wheelIndex = 0
		motorPower = 0.45
		maxMotorTorque = 2.34
		maxRPM = 1750
		gearRatio = 1
		trackLength = 14
		tankSteering = true
	}
	MODULE
	{
		name = KSPWheelDamage
		impactTolerance = 100
	}
	MODULE
	{
		name = KSPWheelTransformRemoval
		TRANSFORM
		{
			name = SideL
			when = 1
		}
		TRANSFORM
		{
			name = ColliderContainerL
			when = 1
		}
	}
}